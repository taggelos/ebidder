<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
        xmlns:h="http://java.sun.com/jsf/html"
     	xmlns:f="http://java.sun.com/jsf/core" 
     	xmlns:m="http://code.google.com/p/gmaps4jsf/"
     	xmlns:ui="http://java.sun.com/jsf/facelets">

    <h:head>
        <script 
        	src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAb6aFntrr2pSFENG2Z5N1tIFAXyehyC8Y"
        	type="text/javascript"> 
        </script>           
        <title>Details</title>
        <h:outputStylesheet name="newcss.css" library="css"/>
    </h:head>    
    <h:body class="backmanager">
    	<div style="border-width:2px; border-color:green; border-style:solid; background-color: #e3cf5b; ">
		         <ui:insert name="headerVisitor" >
		            <ui:include src="/template/header.xhtml" />
		         </ui:insert> 
     	 </div>

    	<h1 style="color: #408080;"> Details  </h1>	
    	<div style="border-width:2px; border-color:green; border-style:solid; background-color: #e3cf5b;">
		<h:panelGrid columns="2">
			Images:
			<h:form> 
	    		<h:dataTable id="Images" value="#{ item_list.item_for_details.photos }" var="img" 
	    		styleClass="userTable" headerClass="userTableHeader"
				rowClasses="userTableOddRow,userTableEvenRow">	
					<h:column>
						<h:graphicImage value="/images/#{img.imageID}"  />						
					</h:column>
				</h:dataTable>
			</h:form>
			Item ID: 
			<h:form>
				#{item_list.item_for_details.itemID}    
			</h:form>     	
			Name: 
			<h:form>
				#{item_list.item_for_details.name}    
			</h:form> 
			Description:
			<h:form>
				#{item_list.item_for_details.description} 
			</h:form>
			Category:
			<h:form> 
				<h:panelGrid columns="#{ item_list.item_for_details.categories.size() }"> 
		    		<h:dataTable id="Categories" value="#{ item_list.item_for_details.categories }" var="cat" >
						<h:column>
								#{cat.name}
						</h:column>
					</h:dataTable>
				</h:panelGrid>
			</h:form>			
			Currently:
			<h:form>
				#{item_list.item_for_details.currently} $
			</h:form> 
			Buy_Price:
			<h:form>
				#{item_list.item_for_details.buy_Price} $
			</h:form> 
			First_Bid:
			<h:form>
				#{item_list.item_for_details.first_Bid} 
			</h:form> 
			Number of Bids:
			<h:form>
				#{item_list.item_for_details.number_of_Bids} 
			</h:form>
			Location:
			<h:form>
	            <m:map width="500" height="450px" latitude="#{item_list.item_for_details.location.latitude}" longitude="#{item_list.item_for_details.location.longitude}" enableScrollWheelZoom="true">
		            <m:marker>
	                    <m:htmlInformationWindow htmlText="Current Location"/>
	                </m:marker>
                </m:map>
			</h:form>
			Country:
			<h:form>
				#{item_list.item_for_details.country} 
			</h:form>
			Started:
			<h:form >
				  #{item_list.item_for_details.started}  			 
			</h:form>
			Ends:
			<h:form>
				#{item_list.item_for_details.ends} 
			</h:form>
			Seller:
			<h:form>
				#{item_list.item_for_details.seller.getUser().username}
			</h:form> 
		</h:panelGrid>	
		<p/> 		
		<h:messages globalOnly="true" styleClass="correct"/>
		</div>
    	<h:panelGrid columns="1"> 
			<h:form rendered="#{ user.current ne null }" >
				 <h:inputText value="#{item_list.sub_value_bid}"/>				
				<h:commandButton id="submit" value="Submit your bid" onclick="return confirm('Are you sure?')" action="#{item_list.submit_bid}" />
			</h:form> 
    	</h:panelGrid>
    </h:body>     
</html>